@page
@inject IConfiguration Configuration
@model IndexModel

<div>
     @if (!string.IsNullOrEmpty(Model.UserName))
    {
        <h2>Welcome, @Model.UserName!</h2>
    }
    <h2>Database Configuration</h2>
    
    @{
        var server = Configuration["Database:Source"];
        var port = Configuration["Database:Port"];
        var database = Configuration["Database:DatabaseName"];
        var username = Configuration["Database:Username"];
        var password = Configuration["Database:Password"];
        var connectionString = $"Server={server};Port={port};Database={database};Uid={username};Pwd={password};";
    }
    
    <p>Server: @server:@port</p>
    <p>Database: @database</p>
    <p>Username: @username</p>
    <p>Password: @(string.IsNullOrEmpty(password) ? "Not configured" : "***configured***")</p>
    <p>Connection String: @connectionString</p>
</div>
